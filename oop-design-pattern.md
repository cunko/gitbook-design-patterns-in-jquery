设计模式与面向对象
===============

很多人都想学习设计模式，但真正学会的并不多，能够把它用在工作当中改进代码质量的就更少了。

学习设计模式的主要难点有 3 ，第一。

它不是基本语法，所以你学了之后也未必能立刻开始使用，所以使用设计模式通常需要有比较丰富的编程经验，至少你要见过那么多那么多需求。

第二，比起一般的顺序写代码，设计模式有更高的抽象层级，需要你用更多的心花更多的心思去理解。

第三，设计模式关乎的是程序能不能写得好的问题。

很多时候你把程序写出来就不错了。

并不是所有人都愿意花时间，去琢磨怎么样才把程序写得更好。

是，需要注意的是，设计模式在提出的时候，整本书的全标题是，设计模式，面向对象软件可复用，编程的基础。

设计模式针对的是面向对象编程，不是普通的过程，面向过程编程，所以如果你的代码没有面向对象的思想，不是按照对象，不是以对象为核心来架构的，那么你几乎不可能使用的是面向对象的。

那么你几乎不可能用得上设计模式。

所以归根结底，我们还是要从面向对象说起。

面向对象是编程当中的一种抽象的思维模式，他把软件当中的所有的东西，抽象成一个一个的对象，然后原先的面向过程的代码就变成了由对象来完成一个事项的代码。

比如说我们开发一个公司里用的 ERP 系统，要给所有的同事算工资。

那么我们如果来实现这个功能，用伪代码来写就是。

一，取出所有同事的信息。

2 ，取出所有同事的考勤。

3 ，取出所有同事的绩效打分。

4 ，取出所有的市价压拧扣底扣之类的东西。

5 ，进行计算，算出每个人的工资，并且把它们放在一个表里。

面向过程的代码在刚刚写出来的时候，通常既符合逻辑，也结构清晰，简单易懂。

所以大部分同学一开始写的都是面向过程的代码，并且觉得自己写的还不错，既满足了需求，自己看着也看得懂，如果能够再加进去一些注释，那简直就是非常好的代码了。

但是很快需求就迎来了变化，首先并不是每个月大家都只是按照这个状态来发工资的，可能在过年的时候我们要给每个人发一些年终奖，然后天热的时候，我们可能要给大家发一些降温费。

公司的业务出现了变化，所以有一部分同事底薪下降了，但是他们的绩效要增加。

有一些同事的系数要调整，遇到这种情况之后，过程式的代码就会变得越来越臃肿，以至于以至于最后特别非常难以维护，一个几千行的面向过程式的代码几乎是不能维护的，因为你根本不知道你的改动会对后面造成什么样子的影响。

面向对象都是以完全不同的另外一种方式来规划这样子的一个。

这样还是刚才这个需求，如果是面向对象的话，我们第 1 步当然还是要取出所有员工的集合，但接下来就不太一样了。

我们可能会调用考勤数据打分等数据，然后导入这个集合，也可以用这个集合来取，用这个集合里面的每个员工，来去取他们所每个月他们自己所需要的每个数据。

然后这些数据，会再去进行加权和修正。

不同岗位的员工在计算各自工资的时候，会带入不同的公式，那么在面向对象的里边就会用超类和子类来实现。

之类的方法，会覆盖父类的方法，这样我们就可以实现，我们就可以相同的函数名实现不同的计算方式。

这个时候，如果某个岗位的员工的计算方式进行了变化，我们只要找到特定的滋味，对其中的某一个特定的函数进行简单的修改就可以了，改造难度大大降低。

这就是面向对象编程，从短期来看，在最开始写代码的时候，它的逻辑和我们直接去思考一个过程的逻辑，不完全一样。

需要我们花费更多的时间去进行逻辑上面的修正和整合。

从短期来看，从面向过程到面向对象，使用的时间会增加。

但是长期来看，因为程序设计逻辑的，简单清晰明了。

代码之间的结果

代码复用的增加，所以面向对象从长期来看，它的维护效率和二次开发的效率远远高于面向过程编程。

大多数项目大多数需求而言，使用面向对象是节省开发时间的。

设计模式则是大家在大爱面前使用了，在大量使用面向对象开发之后，总结出来的一些能够进一步改善代码结构，改进，维护效率的方式方法。

理解和学会设计模式，对我们之后开发，会有很大的帮助。

有些同学可能还没有使用过设计模式，但实际上在我们外部前端的开发当中，设计模式的地位非常显著。

除了本文将讲述的这几个设计模式之外，还有观察者模式，也就是我们外部当中非常常见的事件机制。

既然是理原型链，其实也是设计模式的一种。

如果您使用过三代 MV m 框架，那么你应该也用过其中的数据状态管理工具，比如 vivo x 。

他则是一个非常经典的中介模式的变化。

所以实际上在我们日常当中就已经在享受设计模式带来的便利性，高效率了。

设计模式在确立之初，大约有 23 种被分为三大类。

但是大家需要注意的是时过境迁，我们现在的开发环境，与那个时候的开发环境其实已经出现了很大的变化，我们的语言和那个时候的语言，无论在 API 设计上，在语法设计上，在抽象程度上，都有非常不一样的地方。

比如圆形电视机 s 的基本设计结构之一。

所以大家在学习设计模式的时候，也千万要与时俱进。

不要盲目的去照搬一些书上的设计，或者书上的示范代码。

比如单例模式，在大多数的讲设计模式的书里面，都会教你怎么样去声明一个类，然后怎么样去，声明一个它的静态方法，然后怎么样用这个静态方法去构建一个实例，之后在所有的地方都返回这个实例，这就叫单例模式了。

但是我们用的是 gs gs 的，使用场景完全不同，而且我们有 WiFi 之类的打包工具，所以我们可以直接返回一个对象，就是当地的利，就是单立忠的实力。

这个实力可以干所有我们想让他干的事情，而我们也不需要去考虑它是什么时间，声明啊，因为我们完全可以用 WiFi 太卡， yes modelslike 取出它，使用它。

第二，我也不认为大家需要把一次性把所有的设计模式都学完，除了当初的经典的设计模式之后，大家又相继提出了一些新的设计模式，比如 promise ，我认为也算是一种设计模式，它解决的是靠 back 回到地域的问题。

这设计模式往往都是针对某些特定的场景而已，而总结出总结归纳出来的，脱离那个场景你可能很难理解为什么要这样去做。

好像背单词你找了一本生物命名书，背了一大本的生物的拉丁名词，但实际上你的生活当中几乎完全用不到它，那么你就会慢慢把它淡忘掉，那么你。

我以为正确的用法应该是先简单阅读一遍，这些设计模式，他们为了解决什么样子的场景？

但当你遇见这个场景的时候，你就会想要，是不是那个设计模式可以派上一些用场，然后你再回去看那个设计模式，解决的问题，具体是不是和这个场景类似？

然后他是怎么做的？他有哪些注意事项？然后你再按这个来做。

是重复大概两三次，这个设计模式就会牢牢的印在你的脑海里。

比如最常见的，我们用策略模式或者状态模式去解决一些不同属性，去解决一些类似于刚才所说的，不同岗位的员工工资计算问题的时候。

你稍微处理几个这样类似的，需求就会非常清楚的记得，状态模式和策略模式，是怎么用的呢？

如果有一个设计模式你了解了，但是你今后的好几年都没有用到也没关系，那很可能说明你，在你的业务当中，或者说在你面临的这个，开发工具开发体系，用户群体当中，是不太需要这个设计模式的。

比如说圆形电模式，除了在 PS 当中使用圆形链之外，我们几乎不用了解任何原型链的实现。

这是好的，也是对的，就像我们不用考虑怎么样去，写一个 js 出来一样。

OK 关于面向对象和设计模式，我要说的大概就说完了，接下来我们来看第 1 个设计模式。

享元模式

好新闻之词，这块儿当中使用过的设计模式大概都跟大家介绍了，怎么样？它的确是我们使用这款锐的重要帮助手段。

咱也没错吧

希望大家在今后的工作实践当中能够找到机会，运用这些设计模式。

最后再总结一下前面说过的那种东西。

1 ，不要刻板的用书上的方式来使用设计模式。

2 ，找个机会把所有的设计模式看一遍，并且在生产当中，能用到的尽量去用。

三，发现设计模式，使用设计模式，从别人的代码当中，学习使用设计模式。

谢谢大家，接下来的时间欢迎大家与我进行沟通，如果你在，今后看到了这篇文章，也随时欢迎通过各种途径来跟我沟通，如果你在使用，在开发当中遇见了非常好的设设计模式的场景，也欢迎你与我进行分享。
